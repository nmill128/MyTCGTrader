<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 
Created by Matt Morrison on 2016.04.25 
Copyright Â© 2016 Matt Morrison. All rights reserved.

Page to create a card that is added to the user binder-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">

        
        <ui:define name="body">
            <div id="content" class="container-fluid">
                <div align="center" style="width:50%; margin:0 auto;">
                    <h1 class="centerText">New Card</h1>
                    <!-- Form to make a new card -->
                    <h:form enctype="multipart/form-data">
                        <br/>

                        <div class="panel panel-default panelPadding col-xs-12">
                            <p:messages id="msgs" />

                            <table class="table profile-table">
                                <!-- Table Header -->
                                <tr>
                                    <td><p:outputLabel for="cardName" value="Card Name" /></td>
                                    <td><h:inputText id="cardName" value="#{cardsController.selected.cardName}" 
                                                     required="true" label="Card Name">
                                        </h:inputText></td>
                                    <td><p:message for="cardName" display="icon" /></td>
                                </tr>
                                <tr>
                                    <td><p:outputLabel for="cardCondition" value="Card Condition" /></td>
                                    <td><h:selectOneMenu id="cardCondition" styleClass="form-control" value="#{cardsController.selected.cardCondition}">
                                           <!-- Dropdown for card condition, since we have a specific definde condition for each card  -->
                                            <f:selectItem itemValue="Mint" itemLabel="Mint" />
                                            <f:selectItem itemValue="Slightly Played" itemLabel="Slightly Played" />
                                            <f:selectItem itemValue="Moderately Played" itemLabel="Moderatly Played" />
                                            <f:selectItem itemValue="Heavily Played" itemLabel="Heavily Played" />
                                            <f:selectItem itemValue="Damaged" itemLabel="Damaged" />
                                        </h:selectOneMenu></td>
                                    <td><p:message for="cardCondition" display="icon" /></td>                
                                </tr>
                                <tr>
                                    <td><p:outputLabel for="edition" value="Edition" /></td>
                                    <td><h:inputText id="edition" value="#{cardsController.selected.edition}" 
                                                     required="true" label="Edition">
                                        </h:inputText></td>
                                    <td><p:message for="edition" display="icon" /></td>
                                </tr>
                                <tr>
                                    <td><p:outputLabel for="value" value="Value" /></td>
                                    <td><h:inputText id="value" value="#{cardsController.selected.cardValue}" 
                                                     required="true" label="Value">
                                        </h:inputText></td>
                                    <td><p:message for="value" display="icon" /></td>
                                </tr>
                                <tr>
                                    <td><p:outputLabel for="notes" value="Notes" /></td>
                                    <td><h:inputText id="notes" value="#{cardsController.selected.notes}" 
                                                     label="Notes" /></td>
                                    <td><p:message for="notes" display="icon" /></td>
                                </tr>
                                <tr>
                                    <td><p:outputLabel value="Card Image" for="upload" /></td>
                                    <td><p:fileUpload id="upload" value="#{cardsController.file}" mode="simple" required="true" /></td>
                                </tr>
                            </table>
                        </div>
                        <!-- Error Message Label in case of something going wrong -->
                        <h:outputLabel id="error" value="#{cardsController.message}"  />
                        <br/>
                        <!-- Button to add a new card or return to the previous screen -->
                        <h:commandButton id="add" 
                                         action="#{cardsController.create()}" value="Add" styleClass="btn btn-primary" />   
                        <h:button id="cancel" outcome="MyBinder" value="Cancel" styleClass="btn btn-secondary" />
                    </h:form>
                </div>
            </div>
        </ui:define>
    </ui:composition>

</html>